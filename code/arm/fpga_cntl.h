#ifndef FPGA_DRIVER_H__
#define FPGA_DRIVER_H__

typedef unsigned short UINT16;
typedef unsigned int UINT32;

/* ???Žï????int????? */
enum
{
	SUCCESS = 0,
	FAIL = -1,
	BAD_PARA = -2
};

/* ??????????????????????§Õ */
int InitializeAhb();
void UninitializeAhb();

/* ??§Õ????FPGA?????????????????????? */
int ReadCFpgaRegister(UINT32 offset, UINT16 &data);
int WriteCFpgaRegister(UINT32 offset, UINT16 data);
/* ??§ÕSRAM??????? 0x0??0xfffff */
int ReadSram(UINT32 offset, UINT32 &data);
int WriteSram(UINT32 offset, UINT32 data);
/* ??§Õ???FPGA??????? 0x0??0xff */
int ReadEFpgaRegister(UINT32 offset, UINT32 &data);
int WriteEFpgaRegister(UINT32 offset, UINT32 data);

enum ECHIP
{
	CFPGA = 0,
	EFPGA
};

/* ????SRAM???????CPU/????FPGA???????FPGA */
int EnableSramAccess(ECHIP chip);

// ??PS???????buf§Õ??chip?????FPGA??
bool DownloadFPGA(const char *buf, UINT32 len, ECHIP chip);

#endif

/* ??????????

????FPGA???????16¦Ë??????????
???	¦Ë??	??/§Õ	????			????
0x0		16		R		ahb_ver			?·Ú????????0472??
0x1		16		R+W		test_reg		????????
0x2		16		R+W		memin_Hdate		§ÕSRAM?????16¦Ë
0x3		16		R		memout_Hdate	??SRAM???????16¦Ë
0x4		16		R		memout_Ldate	??SRAM???????16¦Ë
0x5		16		R+W		cpu_cmdreg		????????????
0x6		16		R+W		efpga_regH		§Õ???FPGA??16¦Ë????
0x7		16		R		efpga_dageH		?????FPGA??16?????
0x8~0xb	16		R		External_bus	???õô????????
0xc~0x03ffff	????

???FPGA???????32¦Ë??????????
0x080000~0x0800ff

SRAM??32¦Ë??????????
0x100000~0x1fffff

*/